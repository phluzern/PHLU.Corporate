{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace phlu=PHLU\Corporate\ViewHelpers}

<div class="row bluebg" id="aktuelles">

    <div class="col-xs-12">


        {neos:contentElement.editable(property: 'title', tag: 'h2')}

        <div id="carousel-phlu-teaser-{TeaserClass}" class="phlu-teaser carousel slide">
            <ol class="carousel-indicators">
                {carouselIndicators -> f:format.raw()}
            </ol>
            <div class="carousel-inner" role="listbox">
                {carouselContent -> f:format.raw()}
            </div>
        </div>

    </div>

</div>


<f:section name="indicators">
    <f:for each="{items}" as="item" iteration="iterator">
        <li data-target="#carousel-phlu-teaser-{breakpointTeaser}" data-slide-to="{iterator.index}"
            class="{f:if(condition: iterator.isFirst, then: 'active', else: '')}"></li>
    </f:for>
</f:section>


<f:section name="content">

    <neos:contentElement.wrap node="{node}">
    <f:for each="{phlu:SpliceCarousel(items: items, spliceNum:4)}" as="item" iteration="iterator">

            <div class="row" rel="typo3:content-collection">
                <div class="carousel-item {f:if(condition: iterator.isFirst, then: 'active', else: '')}">
                   <f:for each="{item}" as="col" iteration="coliterator">
                        <div class="col-xl-4 {ItemClass}">
                            <ts:render path="renderer" context="{node: col}"/>
                        </div>
                    </f:for>
                </div>

            </div>
    </f:for>
    </neos:contentElement.wrap>

</f:section>
