{namespace neos=Neos\Neos\ViewHelpers}
{namespace ts=Neos\Fusion\ViewHelpers}
{namespace phlu=Phlu\Neos\NodeTypes\ViewHelpers}


<div {attributes -> f:format.raw()}>
    <f:if condition="{sectionCount}>1">
        <f:then>
            <f:if condition="{neos:rendering.inBackend()}">
                <f:then>{neos:contentElement.editable(property: 'title', tag: 'h2')}</f:then>
                <f:else>
                    <h2><f:format.raw><f:translate locale="de" package="Phlu.Corporate" source="hyphens">{title}</f:translate></f:format.raw></h2>
                </f:else>
            </f:if>
        </f:then>
    </f:if>

    {widgetRenderer -> f:format.raw()}


    <f:if condition="{featuredContactsCount} > 0">
        <f:then>
            <f:if condition="{top}">
                <ts:render path="top"></ts:render>
            </f:if>
            <div class="phlu-team-members phlu-corporate-contacts">
                <div class="row phlu-teaser navigation subpage neos-contentcollection">
                    <ts:render path="contactsRendererFeatured"/>
                </div>
            </div>

        </f:then>
    </f:if>


        <f:if condition="{groupedMode}">
            <f:then>
                <f:if condition="{bottom}">
                    <ts:render path="bottom"></ts:render>
                </f:if>
                <div class="panel-group" id="node-{node.Identifier}">
                    <div class="phlu-accordion list-multiple">
                        <ts:render path="collectionRenderer" context="{node: main}"/>
                    </div>
                </div>
            </f:then>
            <f:else>

                <ts:render path="contactsRenderer" context="{node: main}"/>

                <div class="phlu-team-members phlu-corporate-section">
                    <ts:render path="contactsRenderer"/>
                </div>

            </f:else>
        </f:if>

    <hr>
</div>